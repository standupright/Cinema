var counterNav=0;const SHIFT_NAV=80,FIRST_SHIFT_NAV=40;var counterSlide=0;const SHIFT_SLIDE=220,FIRST_SHIFT_SLIDER=220,navLinksList=document.querySelectorAll(".nav__link"),sliderItems=document.querySelectorAll(".slider__item"),navigateItems=function(e,i,n,t,r,o){e.addEventListener("focus",function(){for(var c=0;c<i.length;c++)i[c].classList.remove(n),r[c]&&r[c].classList.remove(o);e.classList.add(n),t&&t.classList.add(o)})};for(var i=0;i<navLinksList.length;i++)navigateItems(navLinksList[i],navLinksList,"nav__link--current",sliderItems[i],sliderItems,"slider__item--current");const additionalMenuList=document.querySelectorAll(".additional-menu__link");for(i=0;i<additionalMenuList.length;i++)navigateItems(additionalMenuList[i],additionalMenuList,"additional-menu__link--current",!1,!1,"");const previewDetective=document.querySelectorAll(".preview__link--detective"),descriptionDetective=document.querySelectorAll(".description--detective");for(i=0;i<previewDetective.length;i++)navigateItems(previewDetective[i],previewDetective,"preview__link--current",descriptionDetective[i],descriptionDetective,"description--current");const previewFantastic=document.querySelectorAll(".preview__link--fantastic"),descriptionFantastic=document.querySelectorAll(".description--fantastic");for(i=0;i<previewFantastic.length;i++)navigateItems(previewFantastic[i],previewFantastic,"preview__link--current",descriptionFantastic[i],descriptionFantastic,"description--current");const previewThriller=document.querySelectorAll(".preview__link--thriller"),descriptionThriller=document.querySelectorAll(".description--thriller");for(i=0;i<previewThriller.length;i++)navigateItems(previewThriller[i],previewThriller,"preview__link--current",descriptionThriller[i],descriptionThriller,"description--current");const previewChildren=document.querySelectorAll(".preview__link--children"),descriptionChildren=document.querySelectorAll(".description--children");for(i=0;i<previewChildren.length;i++)navigateItems(previewChildren[i],previewChildren,"preview__link--current",descriptionChildren[i],descriptionChildren,"description--current");const previewComedy=document.querySelectorAll(".preview__link--comedy"),descriptionComedy=document.querySelectorAll(".description--comedy");for(i=0;i<previewComedy.length;i++)navigateItems(previewComedy[i],previewComedy,"preview__link--current",descriptionComedy[i],descriptionComedy,"description--current");const previewMelodrama=document.querySelectorAll(".preview__link--melodrama"),descriptionMelodrama=document.querySelectorAll(".description--melodrama");for(i=0;i<previewMelodrama.length;i++)navigateItems(previewMelodrama[i],previewMelodrama,"preview__link--current",descriptionMelodrama[i],descriptionMelodrama,"description--current");const previewAdventures=document.querySelectorAll(".preview__link--adventures"),descriptionAdventures=document.querySelectorAll(".description--adventures");for(i=0;i<previewAdventures.length;i++)navigateItems(previewAdventures[i],previewAdventures,"preview__link--current",descriptionAdventures[i],descriptionAdventures,"description--current");const nav=document.querySelector(".nav "),additionalMenu=document.querySelector(".additional-menu"),slider=document.querySelector(".slider");function checkKey(e){switch((e=e||window.event).keyCode){case 38:onKeyUpHandler();break;case 40:onKeyDownHandler();break;case 37:onKeyLeftHanlder();break;case 39:onKeyRightHanlder()}}nav.addEventListener("focusin",function(){nav.classList.remove("js-nofocus"),nav.focused=!0}),nav.addEventListener("focusout",function(){nav.classList.add("js-nofocus"),nav.focused=!1}),slider.addEventListener("focusin",function(){slider.focused=!0}),slider.addEventListener("focusout",function(){document.querySelector(".preview__link--current").classList.remove("preview__link--current"),slider.focused=!1}),additionalMenu.addEventListener("focusin",function(){additionalMenu.classList.remove("js-nofocus"),additionalMenu.focused=!0}),additionalMenu.addEventListener("focusout",function(){document.querySelector(".additional-menu__link--current").classList.remove("additional-menu__link--current"),additionalMenu.classList.add("js-nofocus"),additionalMenu.focused=!1}),document.onkeydown=checkKey;const additionalMenuLink=document.querySelector("#additional-menu-link"),navMenuLink=document.querySelector("#nav-link");navMenuLink.focus();const onKeyUpHandler=function(){nav.focused&&additionalMenuLink.focus(),slider.focused&&(document.querySelector(".nav__link--current").focus(),changeDefalutBackground()),counterSlide=0},onKeyDownHandler=function(){if(nav.focused){var e=document.querySelector(".slider__item--current").querySelector(".preview__link");e.focus(),changeBackground(e)}additionalMenu.focused&&document.querySelector(".nav__link--current").focus()},onKeyLeftHanlder=function(){navLeftMove(),additionalMenuLeftMove(),sliderLeftMov()},navLeftMove=function(){if(nav.focused)for(var e=0;e<navLinksList.length;e++){if(navLinksList[e].classList.contains("nav__link--current")&&e>0){navLinksList[e-1].focus(),counterNav+=80,nav.style.left=40+counterNav+"px";break}}},additionalMenuLeftMove=function(){if(additionalMenu.focused)for(var e=0;e<additionalMenuList.length;e++){if(additionalMenuList[e].classList.contains("additional-menu__link--current")&&e>0){additionalMenuList[e-1].focus();break}}},sliderLeftMov=function(){if(slider.focused)for(var e=document.querySelector(".slider__item--current").querySelectorAll(".preview__link"),i=0;i<e.length;i++){if(e[i].classList.contains("preview__link--current")&&i>0){e[i-1].focus(),changeBackground(e[i-1]);var n=document.querySelector(".slider__item--current").querySelector(".preview__list");counterSlide+=220,n.style.left=220+counterSlide+"px";break}}},onKeyRightHanlder=function(){navMenuRightMove(),additionalMenuRightMove(),sliderRightMov()},navMenuRightMove=function(){if(nav.focused)for(var e=0;e<navLinksList.length;e++)if(navLinksList[e].classList.contains("nav__link--current")&&e<navLinksList.length-1){navLinksList[e+1].focus(),counterNav-=80,nav.style.left=counterNav+"px";break}},additionalMenuRightMove=function(){if(additionalMenu.focused)for(var e=0;e<additionalMenuList.length;e++)if(additionalMenuList[e].classList.contains("additional-menu__link--current")&&e<additionalMenuList.length-1){additionalMenuList[e+1].focus();break}},sliderRightMov=function(){if(slider.focused)for(var e=document.querySelector(".slider__item--current").querySelectorAll(".preview__link"),i=0;i<e.length;i++)if(e[i].classList.contains("preview__link--current")&&i<e.length-1){e[i+1].focus(),changeBackground(e[i+1]);var n=document.querySelector(".slider__item--current").querySelector(".preview__list");counterSlide-=220,n.style.left=220+counterSlide+"px";break}},wrapper=document.querySelector(".wrapper"),SrcBacgrounds={default:"img/default-bg.png",shutterIsland:"img/bg-shutter-island.png",silenceLambs:"img/bg-the-silence.png",divergent:"img/bg-divergent.png",hungryGames:"img/bg-hungry-games.png",gameOfThrones:"img/bg-game-thrones.png",hellboy:"img/bg-hellboy.png",inception:"img/bg-inception.png",brother:"img/bg-brother.png",avatar:"img/bg-avatar.png",nuPogodi:"img/bg-nu-pogodi.png",zootopia:"img/bg-zootopia.png",lionKing:"img/bg-lion-king.png",intouchables:"img/bg-intouchable.png",gentlemen:"img/bg-gentelmens.png",operationShurick:"img/bg-operation-shurck.png",titanic:"img/bg-titanic.png",moscowCry:"img/bg-moscow-never-cry.png",eternalSunshine:"img/bg-eternal-sunshine.png",harry:"img/bg-harry.png",brilliant:"img/bg-brilliant.png",lordRings:"img/bg-lord-of-the-rings.png"},changeBackground=function(e){var i=SrcBacgrounds[e.id];wrapper.style.backgroundImage="url('"+i+"')"},changeDefalutBackground=function(){var e=SrcBacgrounds.default;wrapper.style.backgroundImage="url('"+e+"')"};